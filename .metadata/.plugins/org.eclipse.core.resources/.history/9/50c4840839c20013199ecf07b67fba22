import java.util.Arrays;


public class MaxProductOfThree {

	public static void main(String[] args) {
		int[] A = {-1, -3, -4, -5, -6, -8, -3, 9};
		System.out.println(solution(A));

	}
	public static int solution(int[] A) {
		int len = A.length;
		Arrays.sort(A);
		System.out.println(Arrays.toString(A));
		int lowest = A[0];
		int nextlowest = 0;
	    if (lowest < 0){
			
			for (int i = 1; i < A.length; i++) {
				if( A[i] < 0 && A[i]!= lowest ){
					nextlowest = A[i];
					break;
				}
			}
	    }
	    int leastTwoProd = 0;
	    if (nextlowest != 0){
	    	leastTwoProd = lowest * nextlowest;
	    }
	    
		int largest = A[len-1];
		int secondlatgest = 0;
		int thirdLargest = 0;
		for ( int i = len-2; i >0; i--){
			if (A[i] > 0 && A[i]!= largest){
				secondlatgest = A[i];
				for (int j = len-3; i >1;i--){
					if (A[j] > 0 && A[j]!= secondlatgest){
						thirdLargest = A[j];
				    }
				}
			}
		}	
		int mostTwoProd = 0;	
		if (secondlatgest != 0 && thirdLargest!=0 ){
			mostTwoProd = secondlatgest * thirdLargest;
		}
		System.out.println("leastTwoProd: "+ leastTwoProd);
		System.out.println("mostTwoProd: "+ mostTwoProd);
		int result = 0;
		if (mostTwoProd > leastTwoProd ){
			result = largest * mostTwoProd;
		}else {
			result = largest * leastTwoProd;
		}
        return result;
    }

}
