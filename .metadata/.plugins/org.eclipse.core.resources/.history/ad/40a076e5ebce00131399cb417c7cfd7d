
public class FlattenMultilevelList {

	public static void main(String[] args) {

	}
	
	/* The main function that flattens a multilevel linked list */
	public static void flattenList(struct node *head)
	{
	    /*Base case*/
	    if (head == NULL)
	       return;
	 
	    struct node *tmp;
	 
	    /* Find tail node of first level linked list */
	    struct node *tail = head;
	    while (tail->next != NULL)
	        tail = tail->next;
	 
	    // One by one traverse through all nodes of first level
	    // linked list till we reach the tail node
	    struct node *cur = head;
	    while (cur != tail)
	    {
	        // If current node has a child
	        if (cur->child)
	        {
	            // then append the child at the end of current list
	            tail->next = cur->child;
	 
	            // and update the tail to new last node
	            tmp = cur->child;
	            while (tmp->next)
	                tmp = tmp->next;
	            tail = tmp;
	        }
	 
	        // Change current node
	        cur = cur->next;
	    }
	}

}
